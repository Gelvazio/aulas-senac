(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aa3525f6"],{2453:function(t,e,a){"use strict";a.d(e,"a",(function(){return r})),a.d(e,"b",(function(){return i}));var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("action",{class:t.classe,attrs:{text:t.text_data,filled:t.filled,flat:t.flat,color:t.color,icon:t.icon,disabled:t.disabled},on:{click:function(e){return t.baixarGuia()}}},[a("i",{staticClass:"fas fa-download",attrs:{slot:"icon"},slot:"icon"})])},i=[]},6473:function(t,e,a){"use strict";a.r(e);var r=a("e4b3"),i=a.n(r);for(var o in r)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(o);e["default"]=i.a},"7a21":function(t,e,a){"use strict";a.r(e);var r=a("2453"),i=a("6473");for(var o in i)["default"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);var n=a("2877"),l=Object(n["a"])(i["default"],r["a"],r["b"],!1,null,null,null);e["default"]=l.exports},a470:function(t,e,a){"use strict";var r=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a("efc4"),o=r(a("4360"));class n{constructor(){this.baseUrl="/relatorio"}isModoEmpresa(){return o.default.state.empresaCorrente}getDare(t){var e=`${this.baseUrl}/${t}`;return this.isModoEmpresa()&&(e=`${this.baseUrl}/${o.default.state.empresaCorrente.id}/${t}`),i.http.get(e,{responseType:"arraybuffer",headers:{Accept:"application/pdf"}}).then(t=>{let e=t.data;return e})}getDareRenavam(t,e){var a=`${this.baseUrl}/renavam/${t}/${e}`;return this.isModoEmpresa()&&(a=`${this.baseUrl}/renavam/${o.default.state.empresaCorrente.id}/${t}/${e}`),i.http.get(a,{responseType:"arraybuffer",headers:{Accept:"application/pdf"}}).then(t=>{let e=t.data;return e})}enviarDareEmail(t){var e=`${this.baseUrl}/email/${t}`;return this.isModoEmpresa()&&(e=`${this.baseUrl}/email/${o.default.state.empresaCorrente.id}/${t}`),i.http.get(e).then(t=>{let e=t.data;return e})}}var l=new n;e.default=l},e4b3:function(t,e,a){"use strict";var r=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(a("a470")),o={components:{Action:()=>Promise.resolve().then(a.bind(null,"b490"))},data(){return{text_data:this.text}},props:{idDebito:Number,placa:{type:String,default:null},classe:String,color:{type:String,default:"none"},filled:{type:Boolean,default:!1},flat:{type:Boolean,default:!1},icon:{type:Boolean,default:!1},onlyIcon:{type:Boolean,default:!1},text:{type:String,default:"Baixar guia"},disabled:{type:Boolean,default:!1}},methods:{baixarGuia(){this.$store.dispatch("toggleOverlay",!0),this.placa?i.default.getDareRenavam(this.placa,this.idDebito).then(t=>{this.$store.dispatch("toggleOverlay",!1),this.downloadByteArray(`Guia_${this.idDebito}.pdf`,t)}).catch(t=>{this.$store.dispatch("toggleOverlay",!1),this.$alertify.error(this.trataErro(t))}):i.default.getDare(this.idDebito).then(t=>{this.$store.dispatch("toggleOverlay",!1),this.downloadByteArray(`Guia_${this.idDebito}.pdf`,t)}).catch(t=>{this.$store.dispatch("toggleOverlay",!1),this.$alertify.error(this.trataErro(t))})},downloadByteArray(t,e){var a=new Blob([e],{type:"application/pdf"}),r=document.createElement("a");r.href=window.URL.createObjectURL(a);var i=t;r.download=i,r.style.display="none",document.body.appendChild(r),navigator.msSaveBlob?navigator.msSaveBlob(a,i):r.click(),document.body.removeChild(r)}},mounted(){this.onlyIcon&&(this.text_data=null)}};e.default=o}}]);