(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0f709852"],{"20e2":function(a,e,o){"use strict";o.r(e);var i=o("6934"),t=o("caf8");for(var r in t)["default"].indexOf(r)<0&&function(a){o.d(e,a,(function(){return t[a]}))}(r);var s=o("2877"),n=Object(s["a"])(t["default"],i["a"],i["b"],!1,null,null,null);e["default"]=n.exports},"675a":function(a,e,o){"use strict";var i=o("4ea4");o("ac6a"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i(o("1da1")),r=i(o("ade3")),s=o("2f62"),n=o("3192");function c(a,e){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(a,e).enumerable}))),o.push.apply(o,i)}return o}function l(a){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?c(Object(o),!0).forEach((function(e){(0,r.default)(a,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):c(Object(o)).forEach((function(e){Object.defineProperty(a,e,Object.getOwnPropertyDescriptor(o,e))}))}return a}var f={name:"ModalConfigurarNotificacoes",components:{Action:()=>Promise.resolve().then(o.bind(null,"b490")),Modal:()=>o.e("chunk-72e78a94").then(o.bind(null,"714b")),CheckboxItem:()=>o.e("chunk-5c20b6a3").then(o.bind(null,"4ebe"))},data(){return{seen:!0,permissionState:"undefined",formData:{notificacaoPortal:!0,notificacaoCNH:!0,notificacaoInfracao:!0,notificacaoVeiculo:!1,notificacaoPush:!0}}},computed:l(l(l({},(0,s.mapGetters)(["isManutencao","isManutencaoKafka"])),(0,s.mapState)(["Auth","Profile","empresaCorrente"])),{},{user(){return this.Auth.user},situacaoPush(){return this.permissionState}}),methods:l(l({},(0,s.mapActions)(["setModalConfigurarNotificacoes"])),{},{salvar(){this.empresaCorrente?this.salvarConfiguracoesEmpresa():(this.$store.dispatch("toggleOverlay",!0),this.$store.dispatch("configurarNotificacoes",{portal:this.formData.notificacaoPortal,cnh:this.formData.notificacaoCNH,infracao:this.formData.notificacaoInfracao,veiculo:this.formData.notificacaoVeiculo,push:this.formData.notificacaoPush}).then(a=>{this.user.notificacao={portal:this.formData.notificacaoPortal,cnh:this.formData.notificacaoCNH,infracao:this.formData.notificacaoInfracao,veiculo:this.formData.notificacaoVeiculo,push:this.formData.notificacaoPush},this.$store.dispatch("toggleOverlay",!1),this.closeModal(),this.$alertify.success("Notificações alteradas com sucesso"),this.registraPush(this.user.notificacao.push||this.empresaCorrente.notificacaoPush)},a=>{this.$store.dispatch("toggleOverlay",!1),this.$alertify.error(this.trataErro(a))}))},salvarConfiguracoesEmpresa(){var a=this;return(0,t.default)((function*(){a.$store.dispatch("toggleOverlay",!0);try{yield(0,n.alterarConfiguracoesDeNotificacao)(a.empresaCorrente.id,a.formData),a.$store.dispatch("atualizaCofiguracaoNotificacoesEmpresa",a.formData),a.closeModal(),a.$alertify.success("Notificações alteradas com sucesso"),a.registraPush(a.user.notificacao&&a.user.notificacao.push||a.empresaCorrente.notificacaoPush)}catch(e){a.$alertify.error(a.trataErro(e))}finally{a.$store.dispatch("toggleOverlay",!1)}}))()},closeModal(){this.carregaConfiguracoes(),this.setModalConfigurarNotificacoes(!1)},carregaConfiguracoes(){this.formData={notificacaoPortal:this.user.notificacao&&this.user.notificacao.portal,notificacaoCNH:this.user.notificacao&&this.user.notificacao.cnh,notificacaoInfracao:this.user.notificacao&&this.user.notificacao.infracao,notificacaoVeiculo:this.user.notificacao&&this.user.notificacao.veiculo,notificacaoPush:this.user.notificacao&&this.user.notificacao.push}},carregarConfiguracoesEmpresa(){this.formData={notificacaoPortal:this.empresaCorrente.notificacaoPortal,notificacaoInfracao:this.empresaCorrente.notificacaoInfracao,notificacaoVeiculo:this.empresaCorrente.notificacaoVeiculo,notificacaoPush:this.empresaCorrente.notificacaoPush}},carregarDados(){this.empresaCorrente?this.carregarConfiguracoesEmpresa():this.carregaConfiguracoes()}}),mounted(){this.carregarDados(),navigator.serviceWorker.ready.then(a=>a.pushManager.permissionState({userVisibleOnly:!0}).then(a=>{this.permissionState=a}).catch(a=>{console.log("erro ao buscar permissionState: "+a.message),this.permissionState="error"}))}};e.default=f},6934:function(a,e,o){"use strict";o.d(e,"a",(function(){return i})),o.d(e,"b",(function(){return t}));var i=function(){var a=this,e=a.$createElement,o=a._self._c||e;return o("modal",{staticClass:"modal-social-name",attrs:{active:a.Profile.modalConfigurarNotificacoes},on:{open:a.carregarDados,close:function(e){return a.closeModal()}}},[o("h2",{staticClass:"modal-title"},[a._v("Notificações")]),o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-highlight notificacao"},[a.empresaCorrente?o("p",[a._v("Configure o recebimento de notificações da empresa por e-mail")]):o("p",[a._v("Configure o recebimento de notificações por e-mail")])]),o("div",[o("form",{on:{submit:function(e){return e.preventDefault(),a.salvar(e)}}},[a.empresaCorrente?a._e():o("checkbox-item",{attrs:{checked:a.formData.notificacaoPortal,label:"Autorizo o envio e desejo receber por e-mail notificações sobre atualizações e novas funcionalidades deste portal."},model:{value:a.formData.notificacaoPortal,callback:function(e){a.$set(a.formData,"notificacaoPortal",e)},expression:"formData.notificacaoPortal"}}),!a.empresaCorrente&&this.isLiberado("license")?o("checkbox-item",{attrs:{checked:a.formData.notificacaoCNH,label:"Autorizo o envio e desejo receber por e-mail notificações relacionadas à minha CNH (Carteira Nacional de Habilitação)."},model:{value:a.formData.notificacaoCNH,callback:function(e){a.$set(a.formData,"notificacaoCNH",e)},expression:"formData.notificacaoCNH"}}):a._e(),!a.empresaCorrente&&this.isLiberado("vehicles")?o("checkbox-item",{attrs:{checked:a.formData.notificacaoInfracao,label:"Autorizo o envio e desejo receber por e-mail notificações relacionadas às infrações de veículos de minha propriedade."},model:{value:a.formData.notificacaoInfracao,callback:function(e){a.$set(a.formData,"notificacaoInfracao",e)},expression:"formData.notificacaoInfracao"}}):a.empresaCorrente?o("checkbox-item",{attrs:{checked:a.formData.notificacaoInfracao,label:"Autorizo o envio e desejo receber por e-mail notificações relacionadas às infrações de veículos da empresa "+a.empresaCorrente.nome+"."},model:{value:a.formData.notificacaoInfracao,callback:function(e){a.$set(a.formData,"notificacaoInfracao",e)},expression:"formData.notificacaoInfracao"}}):a._e(),!a.empresaCorrente&&this.isLiberado("vehicles")?[o("checkbox-item",{attrs:{checked:a.formData.notificacaoVeiculo,label:"Autorizo o envio e desejo receber por e-mail notificações sobre IPVA, Taxa de Licenciamento e\n            Seguro Obrigatório de veículos de minha propriedade. Também concordo com os "},model:{value:a.formData.notificacaoVeiculo,callback:function(e){a.$set(a.formData,"notificacaoVeiculo",e)},expression:"formData.notificacaoVeiculo"}},[o("span",{staticClass:"termos-de-uso-botao",on:{click:function(e){a.seen=!a.seen}}},[o("b",[o("u",[a._v("Termos De Uso.")])])])]),a.seen?a._e():o("div",{staticClass:"termos-de-uso"},[o("h2",[a._v("TERMOS DE USO")]),o("h3",[a._v("Das informações disponibilizadas via E-Mail (Correio Eletrônico)")]),o("br"),o("p",[a._v("Este serviço de cadastramento do e-mail (correio eletrônico) é totalmente gratuito e\n              disponível para todos os cidadãos que possuam uma Carteira Nacional de Habilitação (CNH) do\n              Estado de Santa Catarina.")]),o("p",[a._v("O recebimento das informações disponibilizadas por e-mail depende do prévio\n              cadastramento e está sujeito à aceitação e ao cumprimento dos termos e condições a seguir\n              descritos, bem como da legislação vigente.")]),o("p",[a._v("Ao efetuar o cadastro, você passará a receber de forma rápida e simplificada diretamente\n              no seu e-mail os avisos sobre:")]),o("ul",[o("li",[a._v("- alerta de vencimento do Imposto sobre Propriedade de Veículos Automotores (IPVA);")]),o("li",[a._v("- alerta de vencimento da Taxa de Licenciamento;")]),o("li",[a._v("- alerta de vencimento do Seguro Obrigatório;")]),o("li",[a._v("- alerta de infrações de trânsito;")]),o("li",[a._v("- alerta de vencimento do prazo de validade da CNH.")])]),o("p",[a._v("O envio das informações via e-mail será realizado em momento apropriado, quando\n              disponíveis na Secretaria de Estado da Fazenda e no Departamento Estadual de Trânsito\n              (Detran).")]),o("p",[a._v("Os e-mails enviados terão apenas o caráter informativo e de alerta. Em nenhuma\n              hipótese substituirão as informações registradas nos cadastros da Secretaria da Fazenda ou do\n              DETRAN. Também não substituirão as formas de notificação estabelecidas nas legislações de\n              trânsito e tributárias.")]),o("p",[a._v("O não recebimento das mensagens eletrônicas via e-mail não implica qualquer tipo de\n              isenção ou dispensa de pagamentos relativos ao IPVA, licenciamento, seguro obrigatório e\n              multas do(s) seu(s) veículo(s).")]),o("p",[a._v("Os créditos tributários relativos ao IPVA e a Taxa de Licenciamento serão constituídos\n              conforme previstos na legislação independente do recebimento ou não das mensagens\n              eletrônicas via e-mail.")]),o("p",[a._v("Ao receber a mensagem via e-mail, deverá o usuário entrar no site www.detran.sc.gov.br\n              (Detran/SC) para confirmação das informações e emissão da guia para recolhimento da\n              obrigação.")]),o("p",[a._v("Em nenhuma hipótese estes e-mails conterão boletos, guias de pagamento ou qualquer\n              tipo de link. As guias de pagamento continuarão a ser acessadas pelos usuários diretamente no\n              site do Detran/SC.")]),o("p",[a._v("Somente serão enviados avisos em relação aos veículos registrados no Estado de Santa\n              Catarina.")]),o("p",[a._v("Quando ocorrer troca do proprietário do veículo as informações deixarão de ser enviadas\n              para o proprietário anterior.")]),o("p",[a._v("Os prazos para pagamento do IPVA estão definidos no Regulamento do IPVA e podem\n              sofrer alterações de acordo com as regras previstas no próprio regulamento. Para conferir a\n              legislação do IPVA acesse o site da Secretaria da Fazenda em www.sef.sc.gov.br.")]),o("p",[a._v("É responsabilidade do usuário manter o cadastro do e-mail atualizado. Caso o seu\n              provedor de e-mail utilize algum bloqueador de spam, é possível que você precise habilitar o\n              e-mail naoresponda@detran.sc.gov.br no seu mecanismo anti-spam para receber as\n              mensagens enviadas.")]),o("p",[a._v("A Secretaria da Fazenda e o DETRAN garantem o sigilo absoluto do seu e-mail.")])])]:a._e(),o("div",{staticClass:"modal-highlight notificacao"},[o("p",[a._v("Configure o recebimento de notificações no dispositivo")])]),o("checkbox-item",{attrs:{checked:a.formData.notificacaoPush,label:"Permitir notificações (push) para os meus dispositivos."},model:{value:a.formData.notificacaoPush,callback:function(e){a.$set(a.formData,"notificacaoPush",e)},expression:"formData.notificacaoPush"}}),"denied"==a.situacaoPush&&this.formData.notificacaoPush?o("span",{staticClass:"push-bloqueado"},[a._v("\n          Você deve permitir as notificações neste dispositivo para receber notificações push.\n        ")]):a._e(),o("div",{staticClass:"modal-actions clearfix"},[o("action",{attrs:{text:"Cancelar",outlined:"",color:"lightblue"},on:{click:function(e){return a.closeModal()}}}),o("action",{attrs:{text:"Salvar",submit:"",filled:"",manutencao:a.isManutencao&&a.isManutencaoKafka,color:"primary"}})],1)],2)])])])},t=[]},caf8:function(a,e,o){"use strict";o.r(e);var i=o("675a"),t=o.n(i);for(var r in i)["default"].indexOf(r)<0&&function(a){o.d(e,a,(function(){return i[a]}))}(r);e["default"]=t.a}}]);