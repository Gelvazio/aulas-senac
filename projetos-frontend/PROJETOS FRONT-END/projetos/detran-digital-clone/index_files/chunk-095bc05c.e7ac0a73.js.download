(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-095bc05c"],{1974:function(e,t,a){"use strict";a.r(t);var o=a("5d8d"),s=a.n(o);for(var i in o)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return o[e]}))}(i);t["default"]=s.a},3310:function(e,t,a){},"48be":function(e,t,a){"use strict";a("3310")},"5d8d":function(e,t,a){"use strict";var o=a("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("097d"),a("ac6a");var s=o(a("1da1")),i=o(a("ade3")),n=a("2f62");function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){(0,i.default)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={name:"ModalCSAT",components:{Action:()=>Promise.resolve().then(a.bind(null,"b490")),Modal:()=>a.e("chunk-72e78a94").then(a.bind(null,"714b")),PesquisaSatisfacao:()=>a.e("chunk-fc9f1b9c").then(a.bind(null,"1e013")),CheckboxItem:()=>a.e("chunk-5c20b6a3").then(a.bind(null,"4ebe"))},data(){return{comments:[{id:1,nome:"Agendamento",checked:!1},{id:2,nome:"Cordialidade",checked:!1},{id:3,nome:"Resolutividade",checked:!1},{id:4,nome:"Pontualidade",checked:!1},{id:5,nome:"Serviço",checked:!1}],showComments:!1}},computed:c(c({},(0,n.mapState)(["Auth","System","modalCSAT","modalConfirm"])),{},{cancelarLabel(){return"Cancelar"},enviarLabel(){return"Enviar"}}),methods:c(c({},(0,n.mapActions)(["setModalCSAT"])),{},{modalConfirmacao(){var e=this;return(0,s.default)((function*(){e.closeModal();try{yield e.$store.dispatch("confirm",{btnCancelLabel:"Não",btnConfirmarLabel:"Sim",title:"Pesquisa de Satisfação",message:"Pode responder essa pequisa depois?"})}catch(t){e.Auth.pesquisaSatisfacao[0].grade=null,e.registrarResposta()}}))()},closeModal(){this.comments.forEach(this.resetComment),this.showComments=!1,this.setModalCSAT(!1)},resetComment(e){e.checked=!1},registrarResposta(){this.$store.dispatch("toggleOverlay",!0),Object.assign(this.Auth.pesquisaSatisfacao[0],{comment:this.comments.filter(e=>e.checked).map(e=>e.nome).join(";")}),this.$store.dispatch("registrarResposta",this.Auth.pesquisaSatisfacao[0]).then(e=>this.$alertify.success("Obrigado!")).catch(e=>this.$alertify.error(e)).finally(()=>{this.$store.dispatch("toggleOverlay",!1),this.closeModal()})},registrarNota(e){this.Auth.pesquisaSatisfacao[0].grade=e,this.showComments=!0}})};t.default=d},"9c5d":function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return s}));var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("modal",{attrs:{active:e.modalCSAT},on:{close:function(t){return e.modalConfirmacao()}}},[a("div",[a("div",[a("h1",[e._v("De 0 a 10, quão satisfeito você ficou com o nosso atendimento?")]),this.Auth.pesquisaSatisfacao[0]?a("h2",[e._v("\n        Posto: "+e._s(this.Auth.pesquisaSatisfacao[0].postoAtendimento)+"\n      ")]):e._e(),this.Auth.pesquisaSatisfacao[0]?a("h2",[e._v("\n        Serviço: "+e._s(this.Auth.pesquisaSatisfacao[0].objectID)+"\n      ")]):e._e(),this.Auth.pesquisaSatisfacao[0]?a("h2",[e._v("\n        Data: "+e._s(e._f("date")(this.Auth.pesquisaSatisfacao[0].horarioAtendimento))+"\n      ")]):e._e()]),a("div",[a("pesquisa-satisfacao",{on:{"evento-resposta":e.registrarNota}}),e.showComments?[a("h2",[e._v("Quais os motivos que o levaram a dar esta nota?")]),e._l(e.comments,(function(t){return a("div",{key:t.index},[a("checkbox-item",{attrs:{checked:t.checked,label:t.nome},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"comment.checked"}})],1)})),a("div",{staticClass:"modal-actions clearfix"},[a("action",{attrs:{text:e.cancelarLabel,outlined:"",color:"lightblue"},on:{click:e.modalConfirmacao}}),a("action",{attrs:{text:e.enviarLabel,filled:"",color:"primary"},on:{click:e.registrarResposta}})],1)]:e._e()],2)])])},s=[]},ab73:function(e,t,a){"use strict";a.r(t);var o=a("9c5d"),s=a("1974");for(var i in s)["default"].indexOf(i)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(i);a("48be");var n=a("2877"),r=Object(n["a"])(s["default"],o["a"],o["b"],!1,null,"2d2218e0",null);t["default"]=r.exports}}]);